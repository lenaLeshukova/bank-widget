# bank-widget

## Описание:

Проект "bank-widget" - это виджет для личного кабинета клиента банка, который показывает несколько последних успешных банковских операций клиента, сортирует список транзакций клиента, маскирует данные карты и счета клиента. 

## Установка:

1. Клонируйте репозиторий:
```
git clone https://github.com/lenaLeshukova/bank-widget.git
```

## Функции проекта, примеры работы:

* get_mask_card_number
```
Пример работы функции:
7000792289606361     # входной аргумент
7000 79** **** 6361  # выход функции
```
* get_mask_account
```
Пример работы функции:
73654108430135874305  # входной аргумент
**4305  # выход функции
```
* mask_account_card
```
Примеры работы функции
# Пример для карты
Visa Platinum 7000792289606361  # входной аргумент
Visa Platinum 7000 79** **** 6361  # выход функции
# Пример для счета
Счет 73654108430135874305  # входной аргумент
Счет **4305  # выход функции
```
* get_date
```
Принимает на вход строку с датой в формате 
"2024-03-11T02:26:18.671407"
 и возвращает строку с датой в формате 
"ДД.ММ.ГГГГ"
```
* filter_by_state
```
Примеры работы функции
# Выход функции со статусом по умолчанию 'EXECUTED'
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]
# Выход функции, если вторым аргументов передано 'CANCELED'
[{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]
```
Примеры работы функции
# Выход функции (сортировка по убыванию, т. е. сначала самые последние операции)
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}, {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]
```

## Тестирование

Проект покрыт модульными тестами с использованием библиотеки `pytest`. Тесты проверяют корректность работы функций маскировки данных, фильтрации и сортировки банковских операций.

### Основные направления тестирования:
- **Маскировка (masks.py):** Проверка правильности скрытия цифр карт и счетов, валидация длины входных строк и обработка некорректных символов.
- **Обработка данных (processing.py):** Фильтрация транзакций по статусу (включая пустые списки и несуществующие статусы) и сортировка по дате (по возрастанию/убыванию).
- **Валидация:** Проверка обработки исключений (`ValueError`) при передаче неверных форматов данных.

### Запуск тестов

Для запуска всех тестов выполните команду:
```bash
pytest
* sort_by_date
```
